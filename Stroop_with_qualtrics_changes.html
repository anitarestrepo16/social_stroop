<!DOCTYPE html>
<html>
    <head>
        <title>Stroop</title>
        <script src="jspsych-6.3.1/jspsych.js"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-instructions.js" type="text/javascript"></script>
        <script src="jspsych-6.3.1/plugins/jspsych-html-keyboard-response.js"></script>
        <link href="jspsych-6.3.1/css/jspsych.css" rel="stylesheet" type="text/css">
    </head>
    <body>

        <!-- Change 3: Adding extra scripts for Qualtrics -->
        <!-- COPY PASTE TO QUALTRICS FROM HERE -->
        <link href="https://anitarestrepo16.github.io/jsPsych/css/jspsych.css" rel="stylesheet" type="text/css"></link>
        <div>
            <span style="font-size: 24px;">
                <br><br>
                If you are seeing this message for <span style="color: rgb(255, 0, 0);"><b>more than 5 minutes</b></span>,<br>
                please screen-capture this screen and send the image to us.
                <br><br>
                <span style="font-size: 28px;">We are very sorry for the inconvenience.</span>
            </span>
        </div>
    
    <style>
        #display_stage_background {
            width: 100vw;
            background-color: white;
            z-index: -1;
        }
    
        #display_stage {
            position: fixed;
            left: 1vw;
            top: 1vh;
            height: 98vh;
            width: 98vw;
            background-color: white;
            box-shadow: 1px 1px 1px #999;
            border-radius: 15px;
            z-index: 0;
            overflow-y: hidden;
            overflow-x: hidden;
        }
    </style>
    
    <div id='display_stage_background'></div>
    <div id='display_stage'></div>

    </body>
    
    <script>
        var timeline = [];

        var welcome_block = {
            type: "html-keyboard-response",
            stimulus: "Welcome to the experiment. Press any key to begin."
        };
        
        timeline.push(welcome_block);

        var instructions_block = {
            type: "html-keyboard-response",
            stimulus: "<p>In this task a word will appear in the middle of the screen. When the word appears respond with the <strong>color of the text</strong>. Press <strong>R</strong> for RED, <strong>Y</strong> for YELLOW, <strong>G</strong> for GREEN, and <strong>B</strong> for BLUE. Press any key to continue.</p>",
            post_trial_gap: 1000
        };

        timeline.push(instructions_block);

        var words = [
            { stimulus: "<p style='font-size: 50px; color: red;'><strong>ALONE</strong></p>", correct_response: 'r', word: 'alone', color: 'red', category: 'social_neg'},
            { stimulus: "<p style='font-size: 50px; color: blue;'><strong>HAPPY</strong></p>", correct_response: 'b', word: 'happy', color: 'blue', category: 'emotion_pos'}
        ];

        var fixation = {
            type: 'html-keyboard-response',
            stimulus: '<div style="font-size:60px;">+</div>',
            choices: jsPsych.NO_KEYS,
            trial_duration: 1000,
            task: "fixation"
        }

        var test = {
            type: "html-keyboard-response",
            stimulus: jsPsych.timelineVariable('stimulus'),
            choices: ['r', 'b', 'g', 'y'],
            data: {
                task: 'response',
                correct_response: jsPsych.timelineVariable('correct_response'),
                word: jsPsych.timelineVariable('word'),
                color: jsPsych.timelineVariable('color'),
                category: jsPsych.timelineVariable('category')
            }
        }

        var test_procedure = {
            timeline: [fixation, test],
            timeline_variables: words
        }
        timeline.push(test_procedure);

        jsPsych.init({
            timeline: timeline,
            display_element: 'display_stage',
            on_finish: function() {
                jsPsych.data.displayData();
            }
        })

    </script>
</html>    
